{% load static %}
<link rel="stylesheet" href="{% static 'restaurant/style.css' %}">

<div class="menu-container">
    <h1 class="page-title">Manage Menu</h1>

    <!-- Ø²Ø± Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ØµØ± Ø¬Ø¯ÙŠØ¯ -->
    <button class="add-item-btn" onclick="toggleAddForm()">+ Add New Item</button>

    <!-- ÙÙˆØ±Ù… Ø§Ù„Ø¥Ø¶Ø§ÙØ© -->
    <div id="add-form" class="add-form hidden">
        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <input type="hidden" name="add_item" value="1">
            {{ form.as_p }}
            <button class="add-submit-btn">Add Item</button>
        </form>
    </div>

    <!-- Ø¬Ø¯ÙˆÙ„ Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ù†Ø§ØµØ± -->
    <div class="menu-grid">
        {% for item in menu_items %}
        <div class="menu-card">
            
            <!-- ØµÙˆØ±Ø© -->
            <img src="{{ item.image.url }}" class="menu-image">

            <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª -->
            <div class="menu-info">
                <h3>{{ item.name }}</h3>
                <p class="menu-desc">{{ item.description }}</p>
                <p class="menu-price">Price: {{ item.price }} SAR</p>
                <p class="menu-category">Category: {{ item.get_category_display }}</p>
                <p class="menu-status">
                    Status:
                    {% if item.is_available %}
                        <span class="status available">Available</span>
                    {% else %}
                        <span class="status unavailable">Unavailable</span>
                    {% endif %}
                </p>
            </div>

            <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© -->
            <div class="menu-actions">
                <a href="{% url 'edit_menu_item' item.id %}" class="edit-btn">âœŽ</a>
                <a href="{% url 'delete_menu_item' item.id %}" class="delete-btn">ðŸ—‘</a>
                <a href="{% url 'toggle_availability' item.id %}" class="toggle-btn">âŸ³</a>
            </div>

        </div>
        {% empty %}
        <p class="empty-msg">No menu items added yet.</p>
        {% endfor %}
    </div>
</div>

<!-- JavaScript -->
<script>
function toggleAddForm() {
    document.getElementById("add-form").classList.toggle("hidden");
}
</script>